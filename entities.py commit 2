import pygame

PLAYER_SPEED = 5
BULLET_SPEED = 7

class Player:
    def __init__(self, x, y):
        self.x = x
        self.y = y
        self.width = 40
        self.height = 25
        self.color = (0, 255, 0)
        self.cooldown = 0
        self.cooldown_time = 10

    def get_rect(self):
        return pygame.Rect(self.x, self.y, self.width, self.height)

    def update(self, keys, bullets):
        if keys[pygame.K_LEFT] and self.x > 0:
            self.x -= PLAYER_SPEED
        if keys[pygame.K_RIGHT] and self.x < 760:
            self.x += PLAYER_SPEED

        if keys[pygame.K_SPACE] and self.cooldown == 0:
            bullets.append(Bullet(self.x + self.width // 2, self.y, -1))
            self.cooldown = self.cooldown_time

        if self.cooldown > 0:
            self.cooldown -= 1

    def draw(self, window):
        pygame.draw.rect(window, self.color, (self.x, self.y, self.width, self.height))

class Bullet:
    def __init__(self, x, y, direction):
        self.x = x
        self.y = y
        self.radius = 4
        self.color = (255, 255, 0)
        self.direction = direction

    def update(self):
        self.y += self.direction * BULLET_SPEED

    def draw(self, window):
        pygame.draw.circle(window, self.color, (self.x, self.y), self.radius)
